@model List<Hao_Hao.Models.SanPham>
  @{ ViewBag.Title = "Th√™m nhi·ªÅu s·∫£n ph·∫©m"; }

  <!DOCTYPE html>
  <html>
    <head>
      <meta charset="utf-8" />
      <title>Th√™m s·∫£n ph·∫©m</title>
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      />
      <style>
        .form-table td {
          vertical-align: middle;
        }
      </style>
    </head>
    <body>
      <div class="container mt-4">
        <h2>üõí Th√™m danh s√°ch s·∫£n ph·∫©m</h2>

        <form
          asp-action="ThemSanPham"
          method="post"
          enctype="multipart/form-data"
          id="productForm"
        >
          <table class="table table-bordered form-table" id="productTable">
            <thead class="table-success">
              <tr>
                <th>T√™n s·∫£n ph·∫©m</th>
                <th>Gi√°</th>
                <th>M√¥ t·∫£</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>H√¨nh ·∫£nh (upload)</th>
                <th>Xo√°</th>
              </tr>
            </thead>
            <tbody id="productBody">
              <!-- D√≤ng m·∫´u ƒë·∫ßu ti√™n -->
              <tr>
                <td>
                  <input name="[0].TenSanPham" class="form-control" required />
                </td>
                <td>
                  <input
                    name="[0].Gia"
                    type="number"
                    step="0.01"
                    class="form-control"
                    required
                  />
                </td>
                <td><input name="[0].MoTa" class="form-control" /></td>
                <td>
                  <input
                    name="[0].SoLuongTon"
                    type="number"
                    class="form-control"
                    required
                  />
                </td>
                <td>
                  <input
                    name="[0].HinhAnhFile"
                    type="file"
                    class="form-control"
                  />
                </td>
                <td>
                  <button
                    type="button"
                    class="btn btn-danger"
                    onclick="xoaDong(this)"
                  >
                    üóëÔ∏è
                  </button>
                </td>
              </tr>
            </tbody>
          </table>

          <button
            type="button"
            class="btn btn-outline-success"
            onclick="themDong()"
          >
            ‚ûï Th√™m d√≤ng
          </button>
          <button type="submit" class="btn btn-primary float-end">
            üíæ L∆∞u danh s√°ch
          </button>
        </form>
      </div>

      <script>
        let index = 1;

        function themDong() {
          const tbody = document.getElementById("productBody");
          const newRow = document.createElement("tr");

          newRow.innerHTML = `
                  <td><input name="[${index}].TenSanPham" class="form-control" required /></td>
                  <td><input name="[${index}].Gia" type="number" step="0.01" class="form-control" required /></td>
                  <td><input name="[${index}].MoTa" class="form-control" /></td>
                  <td><input name="[${index}].SoLuongTon" type="number" class="form-control" required /></td>
                  <td><input name="[${index}].HinhAnhFile" type="file" class="form-control" /></td>
                  <td><button type="button" class="btn btn-danger" onclick="xoaDong(this)">üóëÔ∏è</button></td>
              `;

          tbody.appendChild(newRow);
          index++;
        }

        function xoaDong(button) {
          const row = button.parentElement.parentElement;
          row.remove();
        }
      </script>
    </body>
  </html>
</Hao_Hao.Models.SanPham>
